<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF and Video Search and Open</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        h1 {
            color: #4CAF50;
            text-align: center;
        }
        #searchBar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        #searchInput {
            flex: 1;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #typeFilter {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #searchResults {
            margin-top: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #4CAF50;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .media-link {
            color: #4CAF50;
            text-decoration: none;
            cursor: pointer;
        }
        .media-link:hover {
            text-decoration: underline;
        }
        #mediaViewer {
            display: flex;
            flex-direction: column;
            margin-top: 20px;
        }
        #pdfViewer, #videoViewer {
            width: 100%;
            height: 0;
            border: 1px solid #ccc;
            margin-top: 20px;
            flex-grow: 1;
        }
        #videoViewer {
            display: none;
        }
        #toggleButton {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #toggleButton:hover {
            background-color: #45a049;
        }
        #searchResults p {
            text-align: center;
            color: #999;
        }
        .fade {
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <h1>Search and Open PDFs and Videos</h1>
    <div id="searchBar">
        <input type="text" id="searchInput" placeholder="Search for a PDF or Video..." onkeyup="searchMedia()">
        <select id="typeFilter" onchange="searchMedia()">
            <option value="all">All</option>
            <option value="pdf">PDF</option>
            <option value="video">Video</option>
            <option value="mp4">MP4</option>
        </select>
    </div>
    <button id="toggleButton" onclick="toggleSearchResults()">Hide List</button>
    <div id="searchResults" class="fade"></div>
    <div id="mediaViewer">
        <iframe id="pdfViewer" src=""></iframe>
        <video id="videoViewer" controls>
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        const media = [
            { name: 'DSA Handwritten Notes', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/DSA%20handwritten%20notes%20.pdf', type: 'pdf' },
            { name: 'DSA Handwritten Notes Zero to Hero', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/DSA%20Handwritten%20Notes%20Zero%20to%20Hero.pdf', type: 'pdf' },
            { name: 'SQL', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/SQL.pdf', type: 'pdf' },
            { name: 'CSS', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/CSSNotes.pdf', type: 'pdf' },
            { name: 'HTML', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/HTML5.pdf', type: 'pdf' },
            { name: 'DSA Handbook', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/DSA1.pdf', type: 'pdf' },
            { name: 'Dse Handbook', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/DBMS%20EXCLUSIVE%20NOTES%20.pdf', type: 'pdf' },
            { name: 'JS Handbook', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/JS_Chapterwise_Notes.pdf', type: 'pdf' },
            { name: 'Leetcode', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/Leetcode%20SQL%20Solutions.pdf', type: 'pdf' },
            { name: 'Video Tutorial', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/v5.mp4', type: 'video' },
            { name: 'Mantralayam', url: 'https://nikhil-techefficio.github.io/Pdf-collection-reader/videoplayback.m4a', type: 'mp4' },
        ];

        let isListVisible = true;

        function searchMedia() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const filter = document.getElementById('typeFilter').value;
            const results = media.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(input);
                const matchesFilter = filter === 'all' || item.type === filter;
                return matchesSearch && matchesFilter;
            });
            displayResults(results);
        }

        function displayResults(results) {
            const searchResults = document.getElementById('searchResults');
            searchResults.innerHTML = '';
            
            if (results.length > 0) {
                const table = document.createElement('table');
                const header = table.createTHead();
                const headerRow = header.insertRow(0);
                const nameHeader = document.createElement('th');
                nameHeader.innerHTML = 'Name';
                const typeHeader = document.createElement('th');
                typeHeader.innerHTML = 'Type';
                headerRow.appendChild(nameHeader);
                headerRow.appendChild(typeHeader);

                const body = table.createTBody();
                results.forEach(item => {
                    const row = body.insertRow();
                    const nameCell = row.insertCell(0);
                    const typeCell = row.insertCell(1);
                    nameCell.innerHTML = `<a href="#" class="media-link" onclick="handleClick('${item.url}', '${item.type}')">${item.name}</a>`;
                    typeCell.innerHTML = item.type;
                });
                searchResults.appendChild(table);
            } else {
                searchResults.innerHTML = '<p>No results found.</p>';
            }
        }

        function handleClick(url, type) {
            if (type === 'pdf') {
                openPDF(url);
            } else {
                openVideo(url);
            }
            return false;
        }

        function openPDF(url) {
            const pdfViewer = document.getElementById('pdfViewer');
            const videoViewer = document.getElementById('videoViewer');
            pdfViewer.style.display = 'block';
            videoViewer.style.display = 'none';
            pdfViewer.style.height = '600px';
            pdfViewer.src = url;
            toggleSearchResults(true);
        }

        function openVideo(url) {
            const pdfViewer = document.getElementById('pdfViewer');
            const videoViewer = document.getElementById('videoViewer');
            pdfViewer.style.display = 'none';
            videoViewer.style.display = 'block';
            videoViewer.style.height = '600px';
            videoViewer.src = url;
            toggleSearchResults(true);
        }

        function toggleSearchResults(forceHide = false) {
            const searchResults = document.getElementById('searchResults');
            const toggleButton = document.getElementById('toggleButton');
            if (isListVisible || forceHide) {
                searchResults.style.display = 'none';
                toggleButton.textContent = 'Show List';
                isListVisible = false;
            } else {
                searchResults.style.display = 'block';
                toggleButton.textContent = 'Hide List';
                isListVisible = true;
            }
        }

        // Display all media items by default when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            displayResults(media);
        });
    </script>
</body>
</html>
